<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Jdbshell | Jason note</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../bggdb/index.html" />
    
    
    <link rel="prev" href="../linux_tools/doxygen.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    <div class="book" data-level="3.5" data-basepath=".." data-revision="Wed May 27 2015 21:39:24 GMT+0800 (CST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="shared_libraries/12.html">
            
                
                    <a href="../shared_libraries/12.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Command
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="shared_libraries/lsof.html">
            
                
                    <a href="../shared_libraries/lsof.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        10 條 Linux
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="shared_libraries/cntotw.html">
            
                
                    <a href="../shared_libraries/cntotw.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Open Chinese Convert 開放中文轉換
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="shared_libraries/index.html">
            
                
                    <a href="../shared_libraries/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Shared Libraries
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="shared_libraries/11.html">
            
                
                    <a href="../shared_libraries/11.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Shared Libraries Setup
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="linux_tools/index.html">
            
                
                    <a href="../linux_tools/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Linux Tools
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="linux_tools/linux_basic.html">
            
                
                    <a href="../linux_tools/linux_basic.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Linux Basic
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="linux_tools/01_use_man.html">
            
                
                    <a href="../linux_tools/01_use_man.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        學會使用命令幫助
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="linux_tools/02_file_manage.html">
            
                
                    <a href="../linux_tools/02_file_manage.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        文件及目錄管理
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="linux_tools/03_text_processing.html">
            
                
                    <a href="../linux_tools/03_text_processing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.</b>
                        
                        文本處理
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="linux_tools/04_disk.html">
            
                
                    <a href="../linux_tools/04_disk.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.</b>
                        
                        磁盤管理
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="linux_tools/05_process_manage.html">
            
                
                    <a href="../linux_tools/05_process_manage.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.</b>
                        
                        進程管理工具
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="linux_tools/06_monitor.html">
            
                
                    <a href="../linux_tools/06_monitor.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.6.</b>
                        
                        性能監控
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="linux_tools/07_network.html">
            
                
                    <a href="../linux_tools/07_network.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.7.</b>
                        
                        網絡工具
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="linux_tools/08_user_manage.html">
            
                
                    <a href="../linux_tools/08_user_manage.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.8.</b>
                        
                        用戶管理工具
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.1.9" data-path="linux_tools/09_system_manage.html">
            
                
                    <a href="../linux_tools/09_system_manage.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.9.</b>
                        
                        系統管理及IPC資源管理
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="linux_tools/linux_advance.html">
            
                
                    <a href="../linux_tools/linux_advance.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Linux工具進階
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="linux_tools/01_program_buil.html">
            
                
                    <a href="../linux_tools/01_program_buil.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.1.</b>
                        
                        程序構建
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="linux_tools/02_program_debug.html">
            
                
                    <a href="../linux_tools/02_program_debug.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.2.</b>
                        
                        程序調試
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="linux_tools/03_optimization.html">
            
                
                    <a href="../linux_tools/03_optimization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.3.</b>
                        
                        性能優化
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="linux_tools/ref_tool.html">
            
                
                    <a href="../linux_tools/ref_tool.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        工具參考篇
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="linux_tools/gdb.html">
            
                
                    <a href="../linux_tools/gdb.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.1.</b>
                        
                        gdb 調試利器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="linux_tools/ldd.html">
            
                
                    <a href="../linux_tools/ldd.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.2.</b>
                        
                        ldd 查看程序依賴庫
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="linux_tools/ldof.html">
            
                
                    <a href="../linux_tools/ldof.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.</b>
                        
                        lsof 一切皆文件
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="linux_tools/ps.html">
            
                
                    <a href="../linux_tools/ps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.4.</b>
                        
                        ps 進程查看器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="linux_tools/pstack.html">
            
                
                    <a href="../linux_tools/pstack.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.5.</b>
                        
                        pstack 跟蹤進程棧
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.6" data-path="linux_tools/strace.html">
            
                
                    <a href="../linux_tools/strace.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.6.</b>
                        
                        strace 跟蹤進程中的系統調用
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.7" data-path="linux_tools/ipcs.html">
            
                
                    <a href="../linux_tools/ipcs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.7.</b>
                        
                        ipcs 查詢進程間通信狀態
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.8" data-path="linux_tools/top.html">
            
                
                    <a href="../linux_tools/top.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.8.</b>
                        
                        top linux下的任務管理器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.9" data-path="linux_tools/free.html">
            
                
                    <a href="../linux_tools/free.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.9.</b>
                        
                        free 查詢可用內存
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.10" data-path="linux_tools/vmstat.html">
            
                
                    <a href="../linux_tools/vmstat.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.10.</b>
                        
                        vmstat 監視內存使用情況
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.11" data-path="linux_tools/iostat.html">
            
                
                    <a href="../linux_tools/iostat.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.11.</b>
                        
                        iostat 監視I/O子系統
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.12" data-path="linux_tools/sar.html">
            
                
                    <a href="../linux_tools/sar.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.12.</b>
                        
                        sar 找出系統瓶頸的利器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.13" data-path="linux_tools/readelf.html">
            
                
                    <a href="../linux_tools/readelf.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.13.</b>
                        
                        readelf elf文件格式分析
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.14" data-path="linux_tools/objdump.html">
            
                
                    <a href="../linux_tools/objdump.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.14.</b>
                        
                        objdump 二進制文件分析
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.15" data-path="linux_tools/nm.html">
            
                
                    <a href="../linux_tools/nm.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.15.</b>
                        
                        nm 目標文件格式分析
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.16" data-path="linux_tools/size.html">
            
                
                    <a href="../linux_tools/size.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.16.</b>
                        
                        size 查看程序內存映像大小
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.17" data-path="linux_tools/wget.html">
            
                
                    <a href="../linux_tools/wget.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.17.</b>
                        
                        wget 文件下載
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.18" data-path="linux_tools/scp.html">
            
                
                    <a href="../linux_tools/scp.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.18.</b>
                        
                        scp 跨機遠程拷貝
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.19" data-path="linux_tools/crontab.html">
            
                
                    <a href="../linux_tools/crontab.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.19.</b>
                        
                        crontab 定時任務
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3.20" data-path="linux_tools/trace-cmd.html">
            
                
                    <a href="../linux_tools/trace-cmd.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.20.</b>
                        
                        trace-cmd
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="linux_tools/doxygen.html">
            
                
                    <a href="../linux_tools/doxygen.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Doxygen
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="3.5" data-path="linux_tools/jdbshell.html">
            
                
                    <a href="../linux_tools/jdbshell.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Jdbshell
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="bggdb/index.html">
            
                
                    <a href="../bggdb/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Beej&#39;s Quick Guide to GDB
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="android_note/index.html">
            
                
                    <a href="../android_note/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Android note
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="android_note/startservice_bindservice.html">
            
                
                    <a href="../android_note/startservice_bindservice.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        什麼時候用startService，什麼時候用bindService
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="android_note/handler_looper_message_runnable.html">
            
                
                    <a href="../android_note/handler_looper_message_runnable.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        android的消息處理機制（圖+源碼分析）——Looper,Handler,Message
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="android_note/runnable_thread.html">
            
                
                    <a href="../android_note/runnable_thread.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Android中Handler Runnable與Thread的區別詳解
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="android_note/android_service_native_service.html">
            
                
                    <a href="../android_note/android_service_native_service.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Android Service與Native Service
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="android_note/handler_message_looper_messagequeue.html">
            
                
                    <a href="../android_note/handler_message_looper_messagequeue.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Handler, Message, Looper, MessageQueue
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="android_note/android_log.html">
            
                
                    <a href="../android_note/android_log.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        Android 各層中日誌打印功能的應用
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="android_note/android_command.html">
            
                
                    <a href="../android_note/android_command.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        Android指令和命令參數
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="android_note/prcess_thread_ipc.html">
            
                
                    <a href="../android_note/prcess_thread_ipc.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Android中進程與進程、線程與線程之間如何通信
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="android_note/startservice.html">
            
                
                    <a href="../android_note/startservice.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                        startService的創建過程
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="android_note/bindservice.html">
            
                
                    <a href="../android_note/bindservice.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.10.</b>
                        
                        service组件-bindService源码分析
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Jason note</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="jdbshell">Jdbshell</h1>
<pre><code>https://github.com/xianjimli/jdbshell
</code></pre><ul>
<li>jdbshell.c</li>
</ul>
<pre><code>/*
 * File:    jdbshell.c
 * Author:  Li XianJing &lt;xianjimli@hotmail.com&gt;
 * Brief:   a shell for gdb.
 *
 * Copyright (c) 2009  topwise, Inc.
 *
 * Licensed under the Academic Free License version 2.1
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */

/*
 * History:
 * ================================================================
 * 2009-07-08 Li XianJing &lt;xianjimli@hotmail.com&gt; created
 *
 */

#include &lt;sys/types.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;readline/readline.h&gt;
#include &lt;readline/history.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;signal.h&gt;

static const char* commands[] =
{
    &quot;class&quot;,
    &quot;classes&quot;,
    &quot;classpath&quot;,
    &quot;clear&quot;,
    &quot;connectors&quot;,
    &quot;cont&quot;,
    &quot;disablegc&quot;,
    &quot;down&quot;,
    &quot;dump&quot;,
    &quot;enablegc&quot;,
    &quot;eval&quot;,
    &quot;exit&quot;,
    &quot;fields&quot;,
    &quot;help&quot;,
    &quot;interrupt&quot;,
    &quot;kill&quot;,
    &quot;list&quot;,
    &quot;locals&quot;,
    &quot;lock&quot;,
    &quot;methods&quot;,
    &quot;monitor&quot;,
    &quot;next&quot;,
    &quot;pop&quot;,
    &quot;print&quot;,
    &quot;read&quot;,
    &quot;reenter&quot;,
    &quot;resume&quot;,
    &quot;run&quot;,
    &quot;set&quot;,
    &quot;step&quot;,
    &quot;stepi&quot;,
    &quot;stop&quot;,
    &quot;suspend&quot;,
    &quot;thread&quot;,
    &quot;threadgroup&quot;,
    &quot;threadgroups&quot;,
    &quot;threadlocks&quot;,
    &quot;threads&quot;,
    &quot;trace&quot;,
    &quot;unmonitor&quot;,
    &quot;untrace&quot;,
    &quot;up&quot;,
    &quot;version&quot;,
    &quot;where&quot;,
    &quot;wherei&quot;,
    NULL
};

static struct Alias
{
    const char* alias;
    const char* command;
}g_alias[] =
{
    {&quot;c&quot;,  &quot;cont&quot;},
    {&quot;l&quot;,  &quot;list&quot;},
    {&quot;n&quot;,  &quot;next&quot;},
    {&quot;r&quot;,  &quot;run&quot;},
    {&quot;s&quot;,  &quot;step&quot;},
    {&quot;si&quot;, &quot;stepi&quot;},
    {&quot;f&quot;,  &quot;step up&quot;},
    {&quot;bt&quot;, &quot;wherei&quot;},
    {NULL, NULL}
};

static char* command_generator(const char *text, int state)
{
    const char *name;
    static int list_index, len;

    if (!state)
    {
        list_index = 0;
        len = strlen (text);
    }

    while (name = commands[list_index])
    {
        list_index++;

        if (strncmp (name, text, len) == 0)
            return strdup(name);
    }

    return ((char *)NULL);
}

char** command_completion (const char *text, int start, int end)
{
    char **matches = NULL;

    if (start == 0)
        matches = rl_completion_matches (text, command_generator);

    return (matches);
}

void initialize_readline ()
{
    rl_readline_name = &quot;jdbshell&quot;;
    rl_attempted_completion_function = command_completion;

    return ;
}

char * stripwhite (char *string)
{
    char *s = NULL;
    char *t = NULL;

    for (s = string; whitespace (*s); s++);

    if (*s == 0) return (s);

    t = s + strlen (s) - 1;
    while (t &gt; s &amp;&amp; whitespace (*t))t--;
    *++t = &apos;\0&apos;;

    return s;
}

void show_usage(void)
{
    int i = 0;
    fprintf(stderr, &quot;usage: jdbshell [jdb args]\n&quot;);
    fprintf(stderr, &quot;example: ./jdbshell -sourcepath $ANDROID_SRC_PATH -attach 6107\n&quot;);
    fprintf(stderr, &quot;command alias:\n&quot;);

    for(i = 0; g_alias[i].alias != NULL; i++)
    {
        fprintf(stderr, &quot;    %2s -- %s\n&quot;, g_alias[i].alias, g_alias[i].command);
    }

    return;
}

int main (int argc, char **argv)
{
    int  pid = 0;
    char *line = NULL;
    char *s = NULL;
    char last_cmd[1024] = {0};
    int  parent_to_child[2] = {0};

    if(argc == 1)
    {
        show_usage();
        return 0;
    }

    initialize_readline ();
    pipe(parent_to_child);

    pid = fork();
    if(pid == 0)
    {
        close(parent_to_child[1]);
        dup2(parent_to_child[0], STDIN_FILENO);
        strcpy(argv[0], &quot;jdb&quot;);
        int ret = execvp(&quot;jdb&quot;, argv);
        fprintf(stderr, &quot;jdb exit: ret=%d\n&quot;, ret);
    }
    else
    {
        close(parent_to_child[0]);
        write(parent_to_child[1], &quot;threads\n&quot;,strlen(&quot;threads\n&quot;));

        while(1)
        {
            int i = 0;
            line = readline (&quot;&quot;);

            if (!line) break;

            s = stripwhite (line);

            if(*s)
            {
              add_history (s);
              strncpy(last_cmd, s, sizeof(last_cmd)-1);
            }
            else if(last_cmd[0])
            {
                s = last_cmd;
                printf(&quot;&gt;%s\n&quot;, s);
            }
            else
            {
                free (line);
                printf(&quot;&gt;&quot;);
                continue;
            }

            for(i = 0; g_alias[i].alias != NULL; i++)
            {
                int len = strlen(g_alias[i].alias);
                if(strncmp(g_alias[i].alias, s, len) == 0
                    &amp;&amp; (s[len] == &apos; &apos; || s[len] == &apos;\0&apos; || s[len] == &apos;\t&apos;))
                {
                    write(parent_to_child[1], g_alias[i].command,
                        strlen(g_alias[i].command));
                    break;
                }
            }

            if(g_alias[i].alias == NULL)
            {
                write(parent_to_child[1], s, strlen(s));
            }

            if(write(parent_to_child[1], &quot;\n&quot;, 1) &lt;= 0)
            {
                fprintf(stderr, &quot;jdb exited\n&quot;);
                break;
            }
            free (line);
        }

        kill(pid, SIGTERM);
    }

    return 0;
}
</code></pre><ul>
<li>&#x56E0;&#x7232;&#x6211;&#x57FA;&#x672C;&#x4E0A;&#x6BCF;&#x6B21;&#x4E00;&#x958B;&#x59CB;&#x90FD;&#x8981;&#x57F7;&#x884C;threads&#x8B8A;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5728;&#x958B;&#x59CB;wile&#x5FAA;&#x74B0;&#x524D;&#x52A0;&#x4E86;&#x4E00;&#x53E5;&#x8A71;</li>
</ul>
<pre><code>else
{
    close(parent_to_child[0]);
    write(parent_to_child[1], &quot;threads\n&quot;,strlen(&quot;threads\n&quot;));
</code></pre><ul>
<li>Makefile</li>
</ul>
<pre><code>CFLAGS=-DRL_LIBRARY_VERSION=&apos;&quot;5.1&quot;&apos; -I. -I.. -g -O
all:
    gcc $(CFLAGS) jdbshell.c -lreadline -ltermcap -o jdbshell
clean:
    rm -f jdbshell *.o
</code></pre><ul>
<li>build/envsetup.sh &#x4EFF;&#x7167;gdbclient&#xFF0C;&#x5728;build/envsetup.sh&#x4E2D;&#x52A0;&#x5165;jdbclient&#x51FD;&#x6578;</li>
</ul>
<pre><code>function jdbclient()
{
    local MY_SRC_PATH=&quot;$1&quot;
    if [ &quot;$MY_SRC_PATH&quot; ] ; then
        MY_SRC_PATH=$1
        echo $MY_SRC_PATH
    else
        echo &quot;ROOT&quot; $OUR_ROOT
        MY_SRC_PATH=&quot;app_process&quot;
    fi


    local PORT=&quot;$2&quot;
    if [ &quot;$PORT&quot; ] ; then
        PORT=$2
    else
        PORT=&quot;:9000&quot;
    fi


    local PID
    local PROG=&quot;$3&quot;
    if [ &quot;$PROG&quot; ] ; then
        PID=`pid $3`
        echo tcp$PORT jdwp$PID
        adb forward &quot;tcp$PORT&quot; &quot;jdwp:$PID&quot;
        echo jdbshell -sourcepath $MY_SRC_PATH -attach localhost$PORT
        jdbshell -sourcepath $MY_SRC_PATH -attach localhost$PORT
        sleep 2
    else
        echo &quot;&quot;
        echo &quot;please specify app you want to debug:&quot;
        echo &quot;&quot;
    fi
}
</code></pre><ul>
<li>env.sh</li>
</ul>
<pre><code>export ANDROID_SRC=/opt/work/android/grepcode.com
export ANDROID_SRC_PATH=$ANDROID_SRC/frameworks/base/opengl/java:$ANDROID_SRC/frameworks/base/awt/java:$ANDROID_SRC/frameworks/base/core/java:$ANDROID_SRC/frameworks/base/location/java:$ANDROID_SRC/frameworks/base/sax/java:$ANDROID_SRC/frameworks/base/graphics/java:$ANDROID_SRC/frameworks/base/telephony/java:$ANDROID_SRC/frameworks/base/services/java:$ANDROID_SRC/frameworks/base/media/java:$ANDROID_SRC/frameworks/base/wifi/java:$ANDROID_SRC/frameworks/base/im/java:$ANDROID_SRC/dalvik/libcore/suncompat/src/main/java:$ANDROID_SRC/dalvik/libcore/nio_char/src/main/java:$ANDROID_SRC/dalvik/libcore/nio_char/src/main/java/java:$ANDROID_SRC/dalvik/libcore/security-kernel/src/main/java:$ANDROID_SRC/dalvik/libcore/security-kernel/src/main/java/java:$ANDROID_SRC/dalvik/libcore/security/src/main/java:$ANDROID_SRC/dalvik/libcore/security/src/main/java/java:$ANDROID_SRC/dalvik/libcore/archive/src/main/java:$ANDROID_SRC/dalvik/libcore/archive/src/main/java/java:$ANDROID_SRC/dalvik/libcore/awt-kernel/src/main/java:$ANDROID_SRC/dalvik/libcore/awt-kernel/src/main/java/java:$ANDROID_SRC/dalvik/libcore/luni/src/main/java:$ANDROID_SRC/dalvik/libcore/luni/src/main/java/java:$ANDROID_SRC/dalvik/libcore/math/src/main/java:$ANDROID_SRC/dalvik/libcore/math/src/main/java/java:$ANDROID_SRC/dalvik/libcore/x-net/src/main/java:$ANDROID_SRC/dalvik/libcore/openssl/src/main/java:$ANDROID_SRC/dalvik/libcore/dalvik/src/main/java:$ANDROID_SRC/dalvik/libcore/auth/src/main/java:$ANDROID_SRC/dalvik/libcore/concurrent/src/main/java:$ANDROID_SRC/dalvik/libcore/concurrent/src/main/java/java:$ANDROID_SRC/dalvik/libcore/sql/src/main/java:$ANDROID_SRC/dalvik/libcore/sql/src/main/java/java:$ANDROID_SRC/dalvik/libcore/prefs/src/main/java:$ANDROID_SRC/dalvik/libcore/prefs/src/main/java/java:$ANDROID_SRC/dalvik/libcore/xml/src/main/java:$ANDROID_SRC/dalvik/libcore/text/src/main/java:$ANDROID_SRC/dalvik/libcore/text/src/main/java/java:$ANDROID_SRC/dalvik/libcore/luni-kernel/src/main/java:$ANDROID_SRC/dalvik/libcore/luni-kernel/src/main/java/java:$ANDROID_SRC/dalvik/libcore/regex/src/main/java:$ANDROID_SRC/dalvik/libcore/regex/src/main/java/java:$ANDROID_SRC/dalvik/libcore/nio/src/main/java:$ANDROID_SRC/dalvik/libcore/nio/src/main/java/java:$ANDROID_SRC/dalvik/libcore/json/src/main/java:$ANDROID_SRC/dalvik/libcore/crypto/src/main/java:$ANDROID_SRC/dalvik/libcore/icu/src/main/java:$ANDROID_SRC/dalvik/libcore/annotation/src/main/java:$ANDROID_SRC/dalvik/libcore/annotation/src/main/java/java:$ANDROID_SRC/dalvik/libcore/junit/src/main/java:$ANDROID_SRC/dalvik/libcore/logging/src/main/java:$ANDROID_SRC/dalvik/libcore/logging/src/main/java/java:$ANDROID_SRC/dalvik/libcore-disabled/instrument/src/main/java:$ANDROID_SRC/dalvik/libcore-disabled/instrument/src/main/java/java:$ANDROID_SRC/dalvik/libcore-disabled/sound/src/main/java
</code></pre><ul>
<li>adb jdwp&#x5217;&#x51FA;&#x652F;&#x6301;JDPW&#x7684;&#x9032;&#x7A0B;ID</li>
</ul>
<pre><code>adb jdwp
</code></pre><ul>
<li>&#x5553;&#x52D5;android&#x6A21;&#x64EC;&#x5668;&#xFF0C;&#x904B;&#x884C;&#x700F;&#x89BD;&#x5668;</li>
</ul>
<pre><code>jdbclient packets/app/Browser/src/ :9000 browser &#x7B2C;&#x4E00;&#x500B;&#x53C3;&#x6578;&#x662F;&#x4F60;&#x8981;load&#x9032;&#x4F86;&#x7684;&#x4EE3;&#x78BC;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8981;load&#x591A;&#x500B;&#x4EE3;&#x78BC;&#xFF08;&#x8ABF;&#x8A66;&#x7684;&#x6642;&#x5019;&#x53EF;&#x4EE5;&#x770B;)&#xFF0C;&#x53EF;&#x4EE5; export DEBUG_SRC_PATH= &#x7136;&#x5F8C;jdbclient $DEBUG_SRC_PATH :9000 browser

&#x7B2C;&#x4E8C;&#x500B;&#x53C3;&#x6578;&#x662F;attach&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;9000&#x6709;&#x5728;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5176;&#x4ED6;&#x7AEF;&#x53E3;
&#x7B2C;&#x4E09;&#x500B;&#x53C3;&#x6578;&#x662F;&#x8981;&#x8ABF;&#x8A66;&#x7684;&#x61C9;&#x7528;&#xFF0C;&#x8173;&#x672C;&#x88CF;&#x9762;&#x6839;&#x64DA;
pid browser&#x4F86;&#x53D6;&#x5F97;&#x9032;&#x7A0B;id&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x8981;&#x4FDD;&#x8B49;
adb shell ps |grep browser
&#x80FD;&#x5920;&#x770B;&#x5230;&#x5C0D;&#x61C9;&#x7684;&#x9032;&#x7A0B;
</code></pre><ul>
<li>&#x7528;threads&#x67E5;&#x8A62;&#x6240;&#x6709;&#x7DDA;&#x7A0B;&#xFF1A;</li>
</ul>
<pre><code>Set uncaught java.lang.Throwable
Set deferred uncaught java.lang.Throwable
Initializing jdb ...
Group system:
  (java.lang.Thread)0xc14050d0c0                  &lt;6&gt; Compiler             cond. waiting
  (java.lang.Thread)0xc14050cf50                  &lt;4&gt; Signal Catcher       cond. waiting
  (java.lang.Thread)0xc14050cea8                  &lt;3&gt; GC                   cond. waiting
  (java.lang.Thread)0xc14050cdf0                  &lt;2&gt; HeapWorker           cond. waiting
Group main:
  (java.lang.Thread)0xc14001f1a8                  &lt;1&gt; main                 running
  (java.lang.Thread)0xc140562ad8                  &lt;21&gt; AsyncTask #5        cond. waiting
  (android.os.HandlerThread)0xc1405528f8          &lt;20&gt; WebViewWorkerThread runnin
</code></pre><ul>
<li>&#x9078;&#x64C7;&#x611F;&#x8208;&#x8DA3;&#x7684;&#x7DDA;&#x7A0B;&#x5927;&#x90E8;&#x5206;&#x61C9;&#x7528;&#x8DD1;&#x5728;main&#x7DDA;&#x7A0B;&#x88CF;&#x9762;&#xFF0C;browser&#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#x547D;&#x4EE4; thread &#x7DDA;&#x7A0B;ID</li>
</ul>
<pre><code>thread 0xc14001f1a8
&lt;1&gt; main[1]
</code></pre><ul>
<li>&#x639B;&#x8D77;&#x7DDA;&#x7A0B;&#x547D;&#x4EE4; suspend &#x7DDA;&#x7A0B;ID</li>
</ul>
<pre><code>&lt;1&gt; main[1] suspend 0xc14001f1a8
</code></pre><ul>
<li>8)&#x8A2D;&#x7F6E;&#x65B7;&#x9EDE;
&#x547D;&#x4EE4;&#xFF1A;</li>
</ul>
<pre><code>stop at &lt;&#x985E;&gt;:&lt;&#x884C;&#x865F;&gt; &#x6216;
stop in &lt;&#x985E;&gt;.&lt;&#x65B9;&#x6CD5;&#x540D;&gt;[(&#x53C3;&#x6578;&#x985E;&#x578B;,...)]


&lt;1&gt; main[1] stop at com.android.browser.BrowserActivity:2689
Set breakpoint com.android.browser.BrowserActivity:2689

&#x9019;&#x500B;&#x5730;&#x65B9;&#x8981;&#x5BEB;&#x985E;&#x540D;&#x7A0D;&#x5FAE;&#x9EBB;&#x7169;&#x4E00;&#x9EDE;&#xFF0C;&#x54EA;&#x4F4D;&#x5927;&#x8766;&#x53EF;&#x4EE5;&#x8F49;&#x5316;&#x6210;&#x50CF;gdb&#x90A3;&#x6A23;&#xFF0C;&#x76F4;&#x63A5;&#x6587;&#x4EF6;&#x540D;&#xFF1F;
</code></pre><ul>
<li>9)&#x7E7C;&#x7E8C;&#x57F7;&#x884C;</li>
</ul>
<pre><code>&#x547D;&#x4EE4; c(ont)

&lt;1&gt; main[1] c
&gt;
</code></pre><ul>
<li>10)&#x9EDE;&#x64CA;&#x7DB2;&#x9801;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x500B;&#x93C8;&#x63A5;
&#x5C31;&#x6703;&#x770B;&#x5230;&#x7A0B;&#x5E8F;&#x5728;BrowserActivty:2689(shouldOverideUrlLoading)&#x8655;&#x65B7;&#x4F4F;&#x4E86;
&#x6B64;&#x6642;&#x53EF;&#x4EE5;&#x770B;&#x5806;&#x68E7;
&#x547D;&#x4EE4;:bt/wherei</li>
</ul>
<pre><code>&lt;1&gt; main[1]bt
  [1] com.android.browser.BrowserActivity.shouldOverrideUrlLoading (BrowserActivity.java:2,689), pc = 8
  [2] com.android.browser.Tab$2.shouldOverrideUrlLoading (Tab.java:552), pc = 44
  [3] android.webkit.CallbackProxy.uiOverrideUrlLoading (CallbackProxy.java:216), pc = 19
  [4] android.webkit.CallbackProxy.handleMessage (CallbackProxy.java:323), pc = 347
  [5] android.os.Handler.dispatchMessage (Handler.java:99), pc = 20
  [6] android.os.Looper.loop (Looper.java:123), pc = 75
  [7] android.app.ActivityThread.main (ActivityThread.java:3,683), pc = 31
  [8] java.lang.reflect.Method.invokeNative (native method)
  [9] java.lang.reflect.Method.invoke (Method.java:507), pc = 18
  [10] com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:839), pc = 11
  [11] com.android.internal.os.ZygoteInit.main (ZygoteInit.java:597), pc = 84
  [12] dalvik.system.NativeStart.main (native method)
</code></pre><ul>
<li>&#x770B;&#x4EE3;&#x78BC;&#x547D;&#x4EE4;:l(ist)</li>
</ul>
<pre><code>&lt;1&gt; main[1] l
2,685            }
2,686        }
2,687
2,688        boolean shouldOverrideUrlLoading(WebView view, String url) {
2,689 =&gt;         if (url.startsWith(SCHEME_WTAI)) {
2,690                // wtai://wp/mc;number
2,691                // number=string(phone-number)
2,692                if (url.startsWith(SCHEME_WTAI_MC)) {
2,693                    Intent intent = new Intent(Intent.ACTION_VIEW,
2,694                            Uri.parse(WebView.SCHEME_TEL +
</code></pre><ul>
<li>&#x770B;&#x8B8A;&#x91CF;&#x547D;&#x4EE4;:print</li>
</ul>
<pre><code>&lt;1&gt; main[1] print url
 url = &quot;http://m.baidu.com/img?tn=bdidxiphone&amp;ssid=0&amp;from=844b&amp;bd_page_type=1&amp;uid=wiaui_1320452293_7438&amp;pu=sz%401320_480&amp;itj=41&quot;


&#x7E7C;&#x7E8C;&#x57F7;&#x884C;
s(tep) &#x2013; &#x57F7;&#x884C;&#x7576;&#x524D;&#x884C;
step up &#x2013; &#x57F7;&#x884C;&#x5230;&#x7576;&#x524D;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5230;&#x5176;&#x8ABF;&#x7528;&#x7A0B;&#x5E8F;
s(tep)i &#x2013; &#x57F7;&#x884C;&#x7576;&#x524D;&#x6307;&#x4EE4;
n(ext) &#x2013; &#x8DF3;&#x904E;&#x4E00;&#x884C;&#xFF08;&#x8DE8;&#x904E;&#x8ABF;&#x7528;&#xFF09;
c(ont) &#x2013; &#x5F9E;&#x65B7;&#x9EDE;&#x8655;&#x7E7C;&#x7E8C;&#x57F7;&#x884C;
</code></pre><ul>
<li>&#x4E0D;&#x8AAA;&#x4E86;&#xFF0C;help&#x662F;&#x4E00;&#x7A2E;&#x7F8E;&#x5FB7;</li>
</ul>
<pre><code>&lt;1&gt; main[1] help
** command list **
connectors                -- list available connectors and transports in this VM


run [class [args]]        -- start execution of application&apos;s main class


threads [threadgroup]     -- list threads
thread &lt;thread id&gt;        -- set default thread
suspend [thread id(s)]    -- suspend threads (default: all)
resume [thread id(s)]     -- resume threads (default: all)
where [&lt;thread id&gt; | all] -- dump a thread&apos;s stack
wherei [&lt;thread id&gt; | all]-- dump a thread&apos;s stack, with pc info
up [n frames]             -- move up a thread&apos;s stack
down [n frames]           -- move down a thread&apos;s stack
kill &lt;thread id&gt; &lt;expr&gt;   -- kill a thread with the given exception object
interrupt &lt;thread id&gt;     -- interrupt a thread


print &lt;expr&gt;              -- print value of expression
dump &lt;expr&gt;               -- print all object information
eval &lt;expr&gt;               -- evaluate expression (same as print)
set &lt;lvalue&gt; = &lt;expr&gt;     -- assign new value to field/variable/array element
locals                    -- print all local variables in current stack frame


classes                   -- list currently known classes
class &lt;class id&gt;          -- show details of named class
methods &lt;class id&gt;        -- list a class&apos;s methods
fields &lt;class id&gt;         -- list a class&apos;s fields


threadgroups              -- list threadgroups
threadgroup &lt;name&gt;        -- set current threadgroup


stop in &lt;class id&gt;.&lt;method&gt;[(argument_type,...)]
                          -- set a breakpoint in a method
stop at &lt;class id&gt;:&lt;line&gt; -- set a breakpoint at a line
clear &lt;class id&gt;.&lt;method&gt;[(argument_type,...)]
                          -- clear a breakpoint in a method
clear &lt;class id&gt;:&lt;line&gt;   -- clear a breakpoint at a line
clear                     -- list breakpoints
catch [uncaught|caught|all] &lt;class id&gt;|&lt;class pattern&gt;
                          -- break when specified exception occurs
ignore [uncaught|caught|all] &lt;class id&gt;|&lt;class pattern&gt;
                          -- cancel &apos;catch&apos; for the specified exception
watch [access|all] &lt;class id&gt;.&lt;field name&gt;
                          -- watch access/modifications to a field
unwatch [access|all] &lt;class id&gt;.&lt;field name&gt;
                          -- discontinue watching access/modifications to a field
trace [go] methods [thread]
                          -- trace method entries and exits.
                          -- All threads are suspended unless &apos;go&apos; is specified
trace [go] method exit | exits [thread]
                          -- trace the current method&apos;s exit, or all methods&apos; exits
                          -- All threads are suspended unless &apos;go&apos; is specified
untrace [methods]         -- stop tracing method entrys and/or exits
step                      -- execute current line
step up                   -- execute until the current method returns to its caller
stepi                     -- execute current instruction
next                      -- step one line (step OVER calls)
cont                      -- continue execution from breakpoint


list [line number|method] -- print source code
use (or sourcepath) [source file path]
                          -- display or change the source path
exclude [&lt;class pattern&gt;, ... | &quot;none&quot;]
                          -- do not report step or method events for specified classes
classpath                 -- print classpath info from target VM


monitor &lt;command&gt;         -- execute command each time the program stops
monitor                   -- list monitors
unmonitor &lt;monitor#&gt;      -- delete a monitor
read &lt;filename&gt;           -- read and execute a command file


lock &lt;expr&gt;               -- print lock info for an object
threadlocks [thread id]   -- print lock info for a thread


pop                       -- pop the stack through and including the current frame
reenter                   -- same as pop, but current frame is reentered
redefine &lt;class id&gt; &lt;class file name&gt;
                          -- redefine the code for a class


disablegc &lt;expr&gt;          -- prevent garbage collection of an object
enablegc &lt;expr&gt;           -- permit garbage collection of an object


!!                        -- repeat last command
&lt;n&gt; &lt;command&gt;             -- repeat command n times
# &lt;command&gt;               -- discard (no-op)
help (or ?)               -- list commands
version                   -- print version information
exit (or quit)            -- exit debugger


&lt;class id&gt;: a full class name with package qualifiers
&lt;class pattern&gt;: a class name with a leading or trailing wildcard (&apos;*&apos;)
&lt;thread id&gt;: thread number as reported in the &apos;threads&apos; command
&lt;expr&gt;: a Java(tm) Programming Language expression.
Most common syntax is supported.


Startup commands can be placed in either &quot;jdb.ini&quot; or &quot;.jdbrc&quot;
in user.home or user.dir
</code></pre><ul>
<li>&#x5982;&#x679C;&#x8981;&#x770B;&#x5225;&#x540D;&#x6620;&#x5C04;&#xFF0C;&#x5728;&#x7D42;&#x7AEF;&#x57F7;&#x884C;</li>
</ul>
<pre><code>tom@tom-laptop:~/work/gingerbread$ jdbshell
usage: jdbshell [jdb args]
example: ./jdbshell -sourcepath $ANDROID_SRC_PATH -attach 6107
command alias:
c -- cont
l -- list
n -- next
r -- run
s -- step
si -- stepi
f -- step up
bt -- wherei
</code></pre>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../linux_tools/doxygen.html" class="navigation navigation-prev " aria-label="Previous page: Doxygen"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../bggdb/index.html" class="navigation navigation-next " aria-label="Next page: Beej&#39;s Quick Guide to GDB"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
